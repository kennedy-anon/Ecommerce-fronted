<app-header></app-header>

<div class="border container-fluid">
    <h2 class="pt-2">Product Details</h2>
</div>

<!-- when loading details -->
<div class="container mx-auto" style="height: 55vh;" *ngIf="(productDetails === undefined)">
    <mat-spinner class="mx-auto mt-5"></mat-spinner>
    <h4 class="text-center mt-1">Product Details...</h4>
</div>


<!-- after details have been loaded -->
<div class="container" *ngIf="productDetails != undefined">
    <div id="itemOverview">
        <mat-card id="image-card">
            <img [src]="'data:'+productDetails?.img.contentType+';base64,'+productDetails?.img.data | safeHtml" alt="">
        </mat-card>
    
        <mat-card class="" id="brief-desc">
            <mat-card-title>{{ productDetails?.title }}</mat-card-title>
            <mat-card-title id="price" class="my-3">
                Price: Ksh {{ productDetails?.price }}
            </mat-card-title>
            <mat-card-subtitle>
                Color: {{ productDetails?.color }}
            </mat-card-subtitle>
            <mat-card-subtitle>
                Size: {{ productDetails?.size }}
            </mat-card-subtitle>

            <mat-card-subtitle [ngStyle]="{'color': stockColor}">
                {{ stockLeft }}
            </mat-card-subtitle>

            <button class="btn btn-primary" (click)=addtocart(productDetails)>Add to cart</button>
        </mat-card>
    </div>

    <mat-card id="description">
        <mat-card-title>Product Description</mat-card-title>
        <mat-card-content>
            <p>{{ productDetails?.desc }}</p>
        </mat-card-content>
    </mat-card>
</div>

<app-footer></app-footer>


